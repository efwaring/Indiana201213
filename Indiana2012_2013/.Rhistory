install.packages("tidyr")
install.packages("tidyr")
install.packages("tidyr")
install.packages("lubridate")
install.packages(c("tidyr", "lubridate"))
install.packages("dplyr")
setwd("~/GitHub/Indiana201213/Indiana2012_2013")
soil12 <- write.csv("lachat12.csv")
soil13 <- write.csv("lachat13.csv")
plants12 <- write.csv("data2012.csv")
plants13 <- write.csv("data2013.csv")
soil12 <- read.csv("lachat12.csv")
soil13 <- read.csv("lachat13.csv")
plants12 <- read.csv("data2012.csv")
plants13 <- read.csv("data2013.csv")
setwd("~/GitHub/Indiana201213")
soil12 <- read.csv("lachat12.csv")
soil13 <- read.csv("lachat13.csv")
plants12 <- read.csv("data2012.csv")
plants13 <- read.csv("data2013.csv")
soil13 <- read.csv("lachat2013.csv")
soil12 <- read.csv("lachat2012.csv")
head(plants12)
head(plants13)
soil12$year <- 2012
soil13$year <- 2013
View(soil12)
View(soil12)
soil1 <- separate(soil12, Analyte, c("Ammonia","NO3+NO2"))
library(tidyr)
soil1 <- separate(soil12, Analyte, c("Ammonia","NO3+NO2"))
soil1 <- spread(soil12, Analyte, c("Ammonia","NO3+NO2"))
soil1 <- soil12 %>% separate(Analyte, into=c("Ammonia","NO3+NO2"))
library(dplyr)
soil1 <- soil12 %>% separate(Analyte, into=c("Ammonia","NO3+NO2"))
setwd("~/GitHub/Indiana201213/Indiana2012_2013")
library(dplyr)
library(tidyr)
library(ggplot2)
library(nlme)
soil12 <- read.csv("lachat2012.csv")
soil13 <- read.csv("lachat2013.csv")
plants12 <- read.csv("data2012.csv")
plants13 <- read.csv("data2013.csv")
setwd("~/GitHub/Indiana201213/Indiana2012_2013")
setwd("~/GitHub/Indiana201213")
soil12 <- read.csv("lachat2012.csv")
soil13 <- read.csv("lachat2013.csv")
plants12 <- read.csv("data2012.csv")
plants13 <- read.csv("data2013.csv")
soil12$year <- 2012
soil13$year <- 2013
View(soil12)
View(soil13)
allSoil <- full_join(soil12,soil13, by="year")
View(allSoil)
allSoil <- inner_join(soil12,soil13, by="year")
allSoil <- bind_rows(soil12,soil13)
allSoil <- let_join(soil12,soil13)
allSoil <- left_join(soil12,soil13)
allSoil <- left_join(soil12,soil13, by="year")
View(allSoil)
View(allSoil)
allSoil=NULL
allSoil <- full_join(soil12,soil13, by=c("year","site","rep","month","place"))
View(allSoil)
allSoil <- inner_join(soil12,soil13, by=c("year","site","rep","month","place"))
allSoil <- merge(soil12, soil13)
allSoil <- merge(soil12, soil13)
View(allSoil)
allSoil <- merge(soil12, soil13, by="year")
allSoil=NULL
allSoil <- merge(soil12, soil13, by="year")
soil <- union(soil12, soil13)
soil12$date = NULL
soil <- union(soil12, soil13)
soil13$sample =NULL
soil <- union(soil12, soil13)
View(plants12)
View(soil12)
soil13$Sample.ID = NULL
soil12$Sample.ID = NULL
soil <- union(soil12, soil13)
soil <- full_join(soil12, soil13, by="year")
View(soil)
soil <- full_join(soil12, soil13, by=c("year", "site", "rep", "place"))
soil <- right_join(soil12, soil13, by=c("year", "site", "rep", "place"))
View(soil)
soil <- right_join(soil12, soil13, by=c("site", "rep", "place"))
sub13 <- soil13 %>% filter(place==15|place==16)
View(sub13)
sub12 <- soil12 %>% summarise(funs(mean))
View(soil12)
sub12 <- soil12 %>% summarise(ammonia.g=mean(ammonia.g),
ammonia.kg=mean(ammonia.kg),
no3.no2.g=mean(no3.no2.g),
no3.no2.kg=mean(no3.no2.kg))
View(sub12)
sub12 <- soil12 %>% group_by(place, month) %>%
summarise(ammonia.g=mean(ammonia.g),
ammonia.kg=mean(ammonia.kg),
no3.no2.g=mean(no3.no2.g),
no3.no2.kg=mean(no3.no2.kg))
View(sub12)
head(plants12)
head(plants13)
soil <- full_join(sub13, sub12, by="year")
View(soil13)
View(sub13)
sub12 <- soil12 %>% group_by(site, rep, month, place) %>%
summarise(ammonia.g=mean(ammonia.g),
ammonia.kg=mean(ammonia.kg),
no3.no2.g=mean(no3.no2.g),
no3.no2.kg=mean(no3.no2.kg))
sub12$year <- 2012
sub13$year <- 2013
soil <- full_join(sub13, sub12, by="year")
View(soil)
soil <- full_join(sub13, sub12, by=c("site","rep","month","place","year")
)
soil <- full_join(sub13, sub12, by=all)
soil <- bind_rows(sub13, sub12)
View(soil)
soil=Null
soil=NULL
soil <- bind_rows(sub13, sub12)
View(soil)
plants13 <- plants13 %>% filter(spp=="Cs"|"Pa")
plants13 <- plants13 %>% filter(spp=="Cs"|spp=="Pa")
View(plants12)
View(plants13)
p2013 <- plants13 %>% group_by(site, rep, month, place) %>%
select("totC","C13","totN","SLA","LMA","ug.gfw_pr")
p2013 <- plants13 %>% group_by(site, rep, month, place) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
View(p2013)
p2012 <- plants12 %>% group_by(site, rep, month, place) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
plants12 <- read.csv("data2012.csv")
p2012 <- plants12 %>% group_by(site, rep, month, place) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
plants12 <- read.csv("data2012.csv")
p2012 <- plants12 %>% group_by(site, rep, month, place) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
plants <- rbind(p2012, p2013)
ggplot(plants, aes(totN, spp, color=year))+
geom_point()+
facet_grid(place~.)
library(dplyr)
library(tidyr)
library(ggplot2)
library(nlme)
ggplot(plants, aes(totN, spp, color=year))+
geom_point()+
facet_grid(place~.)
head(plants)
p2013 <- plants13 %>% group_by(site, rep, month, place, spp) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
p2013$year <- 2013
p2012 <- plants12 %>% group_by(site, rep, month, place, spp) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
p2012$year <- 2012
plants <- rbind(p2012, p2013)
ggplot(plants, aes(totN, spp, color=year))+
geom_point()+
facet_grid(place~.)
ggplot(plants, aes(totN, spp))+
geom_point()+
facet_grid(place~year)
ggplot(plants, aes(totN, spp))+
geom_point()+
facet_grid(place~year)
ggplot(plants, aes(spp, totN))+
geom_point()+
facet_grid(place~year)
ggplot(plants, aes(spp, totN, color=place))+
geom_point()+
facet_grid(.~year)
ggplot(plants, aes(year, totN, color=place))+
geom_point()+
facet_grid(.~spp)
p2012$year <- "2012"
p2013$year <- "2013"
ggplot(plants, aes(year, totN, color=place))+
geom_point()+
facet_grid(.~spp)
head(plants)
plants$placef <- factor(allData$place,
labels = 1:15)
plants$placef <- factor(plants$place,
labels = 1:15)
count(plants$place)
list(plants$place)
plants$placef <- factor(plants$place,
labels = 1:22)
head(plants)
plants$yearf <- factor(plants$year,
labels=c("2012", "2013"))
plants$species <- factor(plants$spp,
labels=c("C. stricta", "P. arundinacea"))
ggplot(plants, aes(yearf, totN, color=placef))+
geom_point()+
facet_grid(.~species)
ggplot(plants, aes(yearf, totN, color=placef))+
geom_point(jigger=T)+
facet_grid(.~species)
ggplot(plants, aes(yearf, totN, color=placef))+
geom_point(jitter=T)+
facet_grid(.~species)
ggplot(plants, aes(yearf, totN, color=placef))+
geom_jitter()+
facet_grid(.~species)
head(soil)
soil.aov <- anova(ammonia.kg~month:place:year, data=soil)
soil.aov <- aov(ammonia.kg~month:place:year, data=soil)
soil.aov
summary(soil.aov)
soil.aov <- aov(ammonia.kg~month+place+year, data=soil)
summary(soi.aov)
summary(soil.aov)
amm.aov <- aov(ammonia.kg~month+place+year, data=soil)
summary(amm.aov)
nit.aov <- aov(no3+no2.kg~month+place+year, data=soil)
summary(nit.aov)
nit.aov <- aov(no3.no2.kg~month+place+year, data=soil)
summary(nit.aov)
head(plants)
totN.aov <- aov(totN~spp+month+place+year, data=plants)
summary(totN.aov)
totC.aov <- aov(totC~spp+month+place+year, data=plants)
summary(totC.aov)
c13.aov <- aov(C13~spp+month+place+year, data=plants)
summary(C13.aov)
summary(C13.aov)
c13.aov <- aov(C13~spp+month+place+year, data=plants)
summary(c13.aov)
SLA.aov <- aov(SLA~spp+month+place+year, data=plants)
summary(SLA.aov)
pr.aov <- aov(ug.gfw_pr~spp+month+place+year, data=plants)
summary(pr.aov)
totC.aov <- aov(totC~spp*year, data=plants)
summary(totC.aov)
library(dplyr)
library(tidyr)
library(ggplot2)
library(nlme)
amm.aov <- aov(ammonia.kg~month+place+year, data=soil)
summary(amm.aov)
nit.aov <- aov(no3.no2.kg~month+place+year, data=soil)
summary(nit.aov
totN.aov <- aov(totN~spp+month+year, data=plants)
summary(totN.aov)
totN.aov <- aov(totN~spp+month+year, data=plants)
summary(totN.aov)
totN.aov <- aov(totN~year, data=plants)
summary(totN.aov)
totN.aov <- lm(totN~year, data=plants)
summary(totN.aov)
plot(year, totN, data=plants)
head(plants)
plot(yearf, totN, data=plants)
t.test(totN~year, data=plants)
t.test(totN~year*spp, data=plants)
t.test(totN~year+spp, data=plants)
head(plants)
View(plants)
plantSub <- plants13 %>% filter(place==15|place==16)
plantSub <- plants %>% filter(place==15|place==16)
plantSub <- plants %>% filter(placef=="15"|placef=="16")
View(plantSub)
soil12 <- read.csv("lachat2012.csv")
soil13 <- read.csv("lachat2013.csv")
plants12 <- read.csv("data2012.csv")
plants13 <- read.csv("data2013.csv")
# filter 2013 site that were sampled in 2012
sub13 <- soil13 %>% filter(place==15|place==16)
sub12 <- soil12 %>% group_by(site, rep, month, place) %>%
summarise(ammonia.g=mean(ammonia.g),
ammonia.kg=mean(ammonia.kg),
no3.no2.g=mean(no3.no2.g),
no3.no2.kg=mean(no3.no2.kg))
sub12$year <- 2012
sub13$year <- 2013
soil <- bind_rows(sub13, sub12)
setwd("~/GitHub/Indiana201213/Indiana2012_2013")
setwd("~/GitHub/Indiana201213")
# data import
soil12 <- read.csv("lachat2012.csv")
soil13 <- read.csv("lachat2013.csv")
plants12 <- read.csv("data2012.csv")
plants13 <- read.csv("data2013.csv")
# filter 2013 site that were sampled in 2012
sub13 <- soil13 %>% filter(place==15|place==16)
sub12 <- soil12 %>% group_by(site, rep, month, place) %>%
summarise(ammonia.g=mean(ammonia.g),
ammonia.kg=mean(ammonia.kg),
no3.no2.g=mean(no3.no2.g),
no3.no2.kg=mean(no3.no2.kg))
sub12$year <- 2012
sub13$year <- 2013
soil <- bind_rows(sub13, sub12)
# grouping similar measurments from 2012 and 2013
# get only Cs and Pa in plants 13
plants13 <- plants13 %>% filter(spp=="Cs"|spp=="Pa")
p2013 <- plants13 %>% group_by(site, rep, month, place, spp) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
p2013$year <- "2013"
p2012 <- plants12 %>% group_by(site, rep, month, place, spp) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
p2012$year <- "2012"
plants <- rbind(p2012, p2013)
plants$placef <- factor(plants$place,
labels = 1:22)
plants$yearf <- factor(plants$year,
labels=c("2012", "2013"))
plants$species <- factor(plants$spp,
labels=c("C. stricta", "P. arundinacea"))
plantSub <- plants %>% filter(placef=="15"|placef=="16")
View(plants)
plantSub <- plants %>% filter(placef==15|placef==16)
plantSub <- plants13 %>% filter(placef==15|placef==16)
plantSub <- plants13 %>% filter(place==15|place==16)
plantSub <- rbind(p2012, plantSub)
head(plantSub)
p2013 <- plants13 %>% group_by(site, rep, month, place, spp) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
p2013$year <- "2013"
head(plantSub)
plants13 <- plants13 %>% filter(spp=="Cs"|spp=="Pa")
plantSub <- p13 %>% filter(place==15|place==16)
plantSub <- p2013 %>% filter(place==15|place==16)
plantSub <- rbind(p2012, plantSub)
totC.aov <- aov(totC~spp+month+place+year, data=plantSub)
summary(totC.aov)
totN.aov <- t.test(totN~year, data=plantSub)
t.test(totN~year, data=plantSub)
t.test(totC~year, data=plantSub)
t.test(totC13~year, data=plantSub)
t.test(C13~year, data=plantSub)
t.test(SLA~year, data=plantSub)
t.test(ug.gfw_pr~year, data=plantSub)
SLA.aov <- aov(SLA~spp+month+place+year, data=plantSub)
summary(SLA.aov)
head(plants12)
library(ade4)
library(ade4)
head(plants12)
pca <- plants12 >%> select(ce,amba,vcmax,jmax,mgcl2.hr,nr.hr.chl,ug.gfw_pr,
SLA,totN,totC,C13)
pca <- plants12 >%> select(ce,amba,vcmax,jmax,mgcl2.hr,nr.hr.chl,ug.gfw_pr, SLA,totN,totC,C13)
pca <- plants12 %>% select(ce,amba,vcmax,jmax,mgcl2.hr,nr.hr.chl,ug.gfw_pr,
SLA,totN,totC,C13)
PCA12 <- dudi.pca(pca,scale=T,scannf=F)
sums <- 100 * PCA12$eig/sum(PCA12$eig)
cumsum(sums)
scatter(PCA12)
s.label(PCA12$co,boxes=F)
PCA12$eig #check # of axis with eig>1. Test these.
install.packages("ade4")
library(ade4)
library("ade4")
install.packages("ade4")
library(dplyr)
library(tidyr)
library(ggplot2)
library(nlme)
library(ade4)
pca <- plants12 %>% select(ce,amba,vcmax,jmax,mgcl2.hr,nr.hr.chl,ug.gfw_pr,
SLA,totN,totC,C13)
PCA12 <- dudi.pca(pca,scale=T,scannf=F)
sums <- 100 * PCA12$eig/sum(PCA12$eig)
cumsum(sums)
scatter(PCA12)
s.label(PCA12$co,boxes=F)
PCA12$eig #check # of axis with ei
list(pca)
head(plants)
pca <- plants12 %>% select(ce,amba,vcmax,jmax,mgcl2.hr,nr.hr.chl,ug.gfw_pr,
SLA,totN,totC,C13)
PCA12 <- dudi.pca(pca,scale=T,scannf=F)
sums <- 100 * PCA12$eig/sum(PCA12$eig)
cumsum(sums)
scatter(PCA12)
s.label(PCA12$co,boxes=F)
PCA12$eig #ch
setwd("~/GitHub/Indiana201213/Indiana2012_2013")
# packages needed
library(dplyr)
library(tidyr)
library(ggplot2)
library(nlme)
library(ade4)
# data import
soil12 <- read.csv("lachat2012.csv")
soil13 <- read.csv("lachat2013.csv")
plants12 <- read.csv("data2012.csv")
plants13 <- read.csv("data2013.csv")
# filter 2013 site that were sampled in 2012
sub13 <- soil13 %>% filter(place==15|place==16)
sub12 <- soil12 %>% group_by(site, rep, month, place) %>%
summarise(ammonia.g=mean(ammonia.g),
ammonia.kg=mean(ammonia.kg),
no3.no2.g=mean(no3.no2.g),
no3.no2.kg=mean(no3.no2.kg))
sub12$year <- 2012
sub13$year <- 2013
setwd("~/GitHub/Indiana201213/Indiana2012_2013")
setwd("~/GitHub/Indiana201213")
soil12 <- read.csv("lachat2012.csv")
soil13 <- read.csv("lachat2013.csv")
plants12 <- read.csv("data2012.csv")
plants13 <- read.csv("data2013.csv")
# filter 2013 site that were sampled in 2012
sub13 <- soil13 %>% filter(place==15|place==16)
sub12 <- soil12 %>% group_by(site, rep, month, place) %>%
summarise(ammonia.g=mean(ammonia.g),
ammonia.kg=mean(ammonia.kg),
no3.no2.g=mean(no3.no2.g),
no3.no2.kg=mean(no3.no2.kg))
sub12$year <- 2012
sub13$year <- 2013
soil <- bind_rows(sub13, sub12)
# comparasion between year
amm.aov <- aov(ammonia.kg~month+place+year, data=soil)
summary(amm.aov)
nit.aov <- aov(no3.no2.kg~month+place+year, data=soil)
summary(nit.aov)
# grouping similar measurments from 2012 and 2013
# get only Cs and Pa in plants 13
plants13 <- plants13 %>% filter(spp=="Cs"|spp=="Pa")
p2013 <- plants13 %>% group_by(site, rep, month, place, spp) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
p2013$year <- "2013"
p2012 <- plants12 %>% group_by(site, rep, month, place, spp) %>%
select(totC,C13,totN,SLA,LMA,ug.gfw_pr)
p2012$year <- "2012"
plants <- rbind(p2012, p2013)
plants$placef <- factor(plants$place,
labels = 1:22)
plants$yearf <- factor(plants$year,
labels=c("2012", "2013"))
plants$species <- factor(plants$spp,
labels=c("C. stricta", "P. arundinacea"))
# subset of only sites sampled in 2012 and 2013
plantSub <- p2013 %>% filter(place==15|place==16)
plantSub <- rbind(p2012, plantSu
b)
plantSub <- rbind(p2012, plantSub)
pca <- plants12 %>% select(ce,amba,vcmax,jmax,mgcl2.hr,nr.hr.chl,ug.gfw_pr,
SLA,totN,totC,C13)
PCA12 <- dudi.pca(pca,scale=T,scannf=F)
sums <- 100 * PCA12$eig/sum(PCA12$eig)
cumsum(sums)
scatter(PCA12)
s.label(PCA12$co,boxes=F)
PCA12$eig #check # of axis with eig>1. Test these.
pca <- na.omit(pca)
pca <- plants12 %>% select(ce,amba,vcmax,jmax,mgcl2.hr,nr.hr.chl,ug.gfw_pr,
SLA,totN,totC,C13)
pca <- na.omit(pca)
PCA12 <- dudi.pca(pca,scale=T,scannf=F)
sums <- 100 * PCA12$eig/sum(PCA12$eig)
cumsum(sums)
scatter(PCA12)
s.label(PCA12$co,boxes=F)
PCA12$eig #check # of axis
head(pca)
View(pca)
